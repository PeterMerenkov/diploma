@startuml
start
:Создать пустую карту для хранения результатов;
repeat :Итерация по списку пар нечеткого числа и терм-множества;
  :Получить текущий набор нечеткого числа и терм-множества;
  repeat :Итерация по результатам в текущем наборе;
    :Получить текущий результат;
    :Добавить пару индекс параметра и результат в карту по ключу - дате и времени;
  repeat while (Есть еще результаты в текущем наборе)
repeat while (Есть еще элементы в списке пар)
:Отфильтровать карту, оставив только те записи, которые соответствуют всем нечетким правилам;
  :Проверить, что все пары индекс параметра и терм-множества в каждом условии присутствуют в записях карты;
:Преобразовать отфильтрованную карту в новую карту;
:Создать новый набор данных результата с условиями и отфильтрованной картой;
:Вернуть набор данных результата;
stop
@enduml